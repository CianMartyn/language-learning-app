<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button routerLink="/home">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Account</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()" color="danger">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Profile Header -->
  <div class="profile-header">
    <ion-avatar class="profile-avatar">
      <img [src]="'https://api.dicebear.com/7.x/avataaars/svg?seed=' + username" alt="Profile">
    </ion-avatar>
    <h2>{{ username }}</h2>
    <p>Language Learner</p>
  </div>

  <!-- Stats Card -->
  <ion-card class="stats-card">
    <ion-card-header>
      <ion-card-title>Your Progress</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="4">
            <div class="stat-item">
              <h3>{{ lessonsCompleted }}</h3>
              <p>Lessons</p>
            </div>
          </ion-col>
          <ion-col size="4">
            <div class="stat-item">
              <h3>{{ languagesLearned }}</h3>
              <p>Languages</p>
            </div>
          </ion-col>
          <ion-col size="4">
            <div class="stat-item">
              <h3>{{ streakDays }}</h3>
              <p>Day Streak</p>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- Settings Section -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Settings</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label>
            <h2>Email Notifications</h2>
            <p>Receive daily learning reminders</p>
          </ion-label>
          <ion-toggle [(ngModel)]="emailNotifications" (ionChange)="saveSettings()"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Dark Mode</h2>
            <p>Toggle dark/light theme</p>
          </ion-label>
          <ion-toggle [(ngModel)]="darkMode" (ionChange)="onDarkModeChange($event)"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Sound Effects</h2>
            <p>Play sounds during lessons</p>
          </ion-label>
          <ion-toggle [(ngModel)]="soundEffects" (ionChange)="saveSettings()"></ion-toggle>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Learning Goals -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Learning Goals</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label>
            <h2>Daily Goal</h2>
            <p>Complete 1 lesson per day</p>
          </ion-label>
          <ion-badge slot="end" color="success">Active</ion-badge>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Weekly Goal</h2>
            <p>Learn 50 new words</p>
          </ion-label>
          <ion-badge slot="end" color="warning">In Progress</ion-badge>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Danger Zone -->
  <ion-card class="danger-zone">
    <ion-card-header>
      <ion-card-title>Danger Zone</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-button expand="block" color="danger" (click)="confirmDeleteAccount()">
        <ion-icon name="trash-outline" slot="start"></ion-icon>
        Delete Account
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content> 